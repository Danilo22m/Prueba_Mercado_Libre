[2026-01-12 12:23:00] INFO - ======================================================================
[2026-01-12 12:23:00] INFO - PIPELINE COMPLETO RAG + AGENTE CRITICO
[2026-01-12 12:23:00] INFO - Inicio: 2026-01-12 12:23:00
[2026-01-12 12:23:00] INFO - Log guardado en: /Users/danilomelo/Desktop/Prueba_Mercado_Libre/Ejercicio_3/outputs/logs/pipeline_completo_20260112_122300.log
[2026-01-12 12:23:00] INFO - ======================================================================
[2026-01-12 12:23:00] INFO - Verificando requisitos...
[2026-01-12 12:23:00] INFO - API Key configurada correctamente
[2026-01-12 12:23:00] INFO - Archivos requeridos encontrados
[2026-01-12 12:23:00] INFO - ============================================================
[2026-01-12 12:23:00] INFO - FASE 1: Ingesta y Normalizacion
[2026-01-12 12:23:00] INFO - ============================================================
[2026-01-12 12:23:01] INFO - Iniciando FASE 1: Ingesta y Normalizacion
[2026-01-12 12:23:01] INFO - Cargando dataset: data/raw/Laptops_with_technical_specifications.csv
[2026-01-12 12:23:01] INFO - Dataset cargado: 1000 registros, 31 columnas
[2026-01-12 12:23:01] INFO - Eliminando duplicados
[2026-01-12 12:23:01] INFO - Duplicados eliminados: 88
[2026-01-12 12:23:01] INFO - Filtrando laptops incompletos
[2026-01-12 12:23:01] INFO - Laptops incompletos eliminados: 720
[2026-01-12 12:23:01] INFO - Laptops con specs completas: 192
[2026-01-12 12:23:01] INFO - Seleccionando muestra balanceada de 300 laptops
[2026-01-12 12:23:01] INFO - Dataset tiene 192 laptops, usando todos
[2026-01-12 12:23:01] INFO - Normalizando campos tecnicos
[2026-01-12 12:23:01] INFO - Campos normalizados: 7
[2026-01-12 12:23:01] INFO - Estructurando datos en formato JSON
[2026-01-12 12:23:01] INFO - Datos estructurados: 192 laptops
[2026-01-12 12:23:01] INFO - Guardando resultados: data/processed/laptops_normalized.json
[2026-01-12 12:23:01] INFO - Resultados guardados: 192 laptops
[2026-01-12 12:23:01] INFO - Generando reporte: data/processed/normalization_report.json
[2026-01-12 12:23:01] INFO - Reporte generado exitosamente
[2026-01-12 12:23:01] INFO - FASE 1 completada exitosamente
[2026-01-12 12:23:01] INFO - FASE 1 completada: 192 laptops normalizados
[2026-01-12 12:23:01] INFO - ============================================================
[2026-01-12 12:23:01] INFO - FASE 2: Chunking e Indexacion con Embeddings
[2026-01-12 12:23:01] INFO - ============================================================
[2026-01-12 12:23:04] INFO - Iniciando FASE 2: Chunking e Indexacion con Embeddings
[2026-01-12 12:23:04] INFO - Cargando laptops: data/processed/laptops_normalized.json
[2026-01-12 12:23:04] INFO - Laptops cargados: 192
[2026-01-12 12:23:04] INFO - Creando chunks field-based
[2026-01-12 12:23:04] INFO - Chunks creados: 1056
[2026-01-12 12:23:04] INFO - Estadisticas de tokens - min: 20, max: 51, mean: 30.1
[2026-01-12 12:23:04] INFO - Generando embeddings con sentence-transformers
[2026-01-12 12:23:04] INFO - Modelo: sentence-transformers/all-MiniLM-L6-v2
[2026-01-12 12:23:04] INFO - Use pytorch device_name: mps
[2026-01-12 12:23:04] INFO - Load pretrained SentenceTransformer: sentence-transformers/all-MiniLM-L6-v2
[2026-01-12 12:23:07] INFO - Generando embeddings para 1056 chunks...
[2026-01-12 12:23:08] INFO - Embeddings generados: shape (1056, 384)
[2026-01-12 12:23:08] INFO - Guardando chunks: data/processed/chunks.json
[2026-01-12 12:23:08] INFO - Chunks guardados: 1056
[2026-01-12 12:23:08] INFO - Guardando embeddings: outputs/models/embeddings.pkl
[2026-01-12 12:23:08] INFO - Embeddings guardados: (1056, 384)
[2026-01-12 12:23:08] INFO - Generando reporte: data/processed/chunking_report.json
[2026-01-12 12:23:08] INFO - Reporte generado exitosamente
[2026-01-12 12:23:08] INFO - FASE 2 completada exitosamente
[2026-01-12 12:23:08] INFO - FASE 2 completada: 1056 chunks, embeddings shape (1056, 384)
[2026-01-12 12:23:08] INFO - ============================================================
[2026-01-12 12:23:08] INFO - FASES 3-6: Pipeline RAG + Agente Critico + Evaluacion
[2026-01-12 12:23:08] INFO - ============================================================
[2026-01-12 12:23:08] INFO - ============================================================
[2026-01-12 12:23:08] INFO - FASE 6: Evaluacion del Pipeline RAG
[2026-01-12 12:23:08] INFO - ============================================================
[2026-01-12 12:23:08] INFO - Inicializando componentes...
[2026-01-12 12:23:08] INFO - Cargando index de chunks y embeddings
[2026-01-12 12:23:08] INFO - Chunks cargados: 1056
[2026-01-12 12:23:08] INFO - Embeddings cargados: shape (1056, 384)
[2026-01-12 12:23:08] INFO - Cargando modelo: sentence-transformers/all-MiniLM-L6-v2
[2026-01-12 12:23:08] INFO - Use pytorch device_name: mps
[2026-01-12 12:23:08] INFO - Load pretrained SentenceTransformer: sentence-transformers/all-MiniLM-L6-v2
[2026-01-12 12:23:11] INFO - Modelo cargado exitosamente
[2026-01-12 12:23:11] INFO - Cliente Groq inicializado - Modelo: llama-3.3-70b-versatile
[2026-01-12 12:23:11] INFO - Agente Critico inicializado
[2026-01-12 12:23:11] INFO - Componentes inicializados
[2026-01-12 12:23:11] INFO - Evaluando 10 queries
[2026-01-12 12:23:11] INFO - 
--- Query 1/10 ---
[2026-01-12 12:23:11] INFO - Query: Que procesador tiene el HP 15?
[2026-01-12 12:23:11] INFO - Chunks recuperados: 5
[2026-01-12 12:23:11] INFO - Iniciando pipeline con critica para: Que procesador tiene el HP 15?...
[2026-01-12 12:23:11] INFO - Intento 1/3
[2026-01-12 12:23:12] INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
[2026-01-12 12:23:12] INFO - Respuesta generada: El HP 15 tiene procesador Intel Pentium Silver N5030 [926:cpu] o Intel Core i5-1135G7 [228:cpu, 368:...
[2026-01-12 12:23:12] INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
[2026-01-12 12:23:12] INFO - Respuesta APROBADA
[2026-01-12 12:23:12] INFO - Respuesta: El HP 15 tiene procesador Intel Pentium Silver N5030 [926:cpu] o Intel Core i5-1...
[2026-01-12 12:23:12] INFO - Estado: APROBADA | Intentos: 1 | Tiempo: 1482ms
[2026-01-12 12:23:12] INFO - 
--- Query 2/10 ---
[2026-01-12 12:23:12] INFO - Query: Que laptops tienen tarjeta grafica NVIDIA?
[2026-01-12 12:23:12] INFO - Chunks recuperados: 5
[2026-01-12 12:23:12] INFO - Iniciando pipeline con critica para: Que laptops tienen tarjeta grafica NVIDIA?...
[2026-01-12 12:23:12] INFO - Intento 1/3
[2026-01-12 12:23:13] INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
[2026-01-12 12:23:13] INFO - Respuesta generada: Las laptops HP Victus 15 y HP OMEN 16 y HP OMEN 17 tienen tarjeta grafica NVIDIA [282:gpu], [644:gpu...
[2026-01-12 12:23:14] INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
[2026-01-12 12:23:14] INFO - Respuesta RECHAZADA: Debes especificar correctamente las tarjetas gráficas de cada laptop y no generalizar que todas tien
[2026-01-12 12:23:14] INFO - Intento 2/3
[2026-01-12 12:23:15] INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
[2026-01-12 12:23:15] INFO - Respuesta generada: La laptop HP Victus 15 tiene tarjeta gráfica NVIDIA GeForce GTX 1650 [282:gpu] y [644:gpu], la lapto...
[2026-01-12 12:23:15] INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
[2026-01-12 12:23:15] INFO - Respuesta APROBADA
[2026-01-12 12:23:15] INFO - Respuesta: La laptop HP Victus 15 tiene tarjeta gráfica NVIDIA GeForce GTX 1650 [282:gpu] y...
[2026-01-12 12:23:15] INFO - Estado: APROBADA | Intentos: 2 | Tiempo: 3068ms
[2026-01-12 12:23:15] INFO - 
--- Query 3/10 ---
[2026-01-12 12:23:15] INFO - Query: Cual es el tamano de pantalla del Lenovo ThinkPad?
[2026-01-12 12:23:15] INFO - Chunks recuperados: 5
[2026-01-12 12:23:15] INFO - Iniciando pipeline con critica para: Cual es el tamano de pantalla del Lenovo ThinkPad?...
[2026-01-12 12:23:15] INFO - Intento 1/3
[2026-01-12 12:23:16] INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
[2026-01-12 12:23:16] INFO - Respuesta generada: No tengo informacion suficiente para responder esta pregunta....
[2026-01-12 12:23:17] INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
[2026-01-12 12:23:17] INFO - Respuesta APROBADA
[2026-01-12 12:23:17] INFO - Respuesta: No tengo informacion suficiente para responder esta pregunta....
[2026-01-12 12:23:17] INFO - Estado: APROBADA | Intentos: 1 | Tiempo: 1536ms
[2026-01-12 12:23:17] INFO - 
--- Query 4/10 ---
[2026-01-12 12:23:17] INFO - Query: Que laptop tiene mejor rendimiento de CPU?
[2026-01-12 12:23:17] INFO - Chunks recuperados: 5
[2026-01-12 12:23:17] INFO - Iniciando pipeline con critica para: Que laptop tiene mejor rendimiento de CPU?...
[2026-01-12 12:23:17] INFO - Intento 1/3
[2026-01-12 12:23:17] INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
[2026-01-12 12:23:17] INFO - Respuesta generada: El HP OMEN 16 tiene mejor rendimiento de CPU con 28587 puntos en CPU Mark [204:cpu], [606:cpu], [712...
[2026-01-12 12:23:18] INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
[2026-01-12 12:23:18] INFO - Respuesta APROBADA
[2026-01-12 12:23:18] INFO - Respuesta: El HP OMEN 16 tiene mejor rendimiento de CPU con 28587 puntos en CPU Mark [204:c...
[2026-01-12 12:23:18] INFO - Estado: APROBADA | Intentos: 1 | Tiempo: 922ms
[2026-01-12 12:23:18] INFO - 
--- Query 5/10 ---
[2026-01-12 12:23:18] INFO - Query: Cuales laptops tienen WiFi 6?
[2026-01-12 12:23:18] INFO - Chunks recuperados: 5
[2026-01-12 12:23:18] INFO - Iniciando pipeline con critica para: Cuales laptops tienen WiFi 6?...
[2026-01-12 12:23:18] INFO - Intento 1/3
[2026-01-12 12:23:19] INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
[2026-01-12 12:23:19] INFO - Respuesta generada: Las laptops que tienen WiFi 6 (802.11ax) son: HP Victus 16 [122:wifi_version], Lenovo ThinkPad X1 Ca...
[2026-01-12 12:23:19] INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
[2026-01-12 12:23:19] INFO - Respuesta RECHAZADA: Corregir la afirmación para reflejar que la laptop HP Victus 16 tiene WiFi 802.11a/b/g/n/ac/ax, que 
[2026-01-12 12:23:19] INFO - Intento 2/3
[2026-01-12 12:23:20] INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
[2026-01-12 12:23:20] INFO - Respuesta generada: Las laptops que tienen WiFi 6 (802.11ax) son: HP Victus 16 [122:wifi_version], porque su versión de ...
[2026-01-12 12:23:22] INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
[2026-01-12 12:23:22] WARNING - Error parseando veredicto: Expecting ',' delimiter: line 11 column 81 (char 865). Asumiendo REHACER
[2026-01-12 12:23:22] INFO - Respuesta RECHAZADA: No se pudo parsear la verificacion. Regenerar respuesta.
[2026-01-12 12:23:22] INFO - Intento 3/3
[2026-01-12 12:23:23] INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
[2026-01-12 12:23:23] INFO - Respuesta generada: Las laptops que tienen WiFi 6 (802.11ax) son: HP Victus 16 [122:wifi_version] y Lenovo ThinkPad X1 C...
[2026-01-12 12:23:24] INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
[2026-01-12 12:23:24] WARNING - Error parseando veredicto: Unterminated string starting at: line 10 column 17 (char 325). Asumiendo REHACER
[2026-01-12 12:23:24] INFO - Respuesta RECHAZADA: No se pudo parsear la verificacion. Regenerar respuesta.
[2026-01-12 12:23:24] WARNING - Se agotaron los intentos (3). Retornando mejor respuesta.
[2026-01-12 12:23:24] INFO - Respuesta: Las laptops que tienen WiFi 6 (802.11ax) son: HP Victus 16 [122:wifi_version] y ...
[2026-01-12 12:23:24] INFO - Estado: RECHAZADA | Intentos: 3 | Tiempo: 6744ms
[2026-01-12 12:23:24] INFO - 
--- Query 6/10 ---
[2026-01-12 12:23:24] INFO - Query: Que GPU tiene el ASUS ROG?
[2026-01-12 12:23:24] INFO - Chunks recuperados: 5
[2026-01-12 12:23:24] INFO - Iniciando pipeline con critica para: Que GPU tiene el ASUS ROG?...
[2026-01-12 12:23:24] INFO - Intento 1/3
[2026-01-12 12:23:25] INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
[2026-01-12 12:23:25] INFO - Respuesta generada: El ASUS ROG Strix G15 tiene una tarjeta gráfica AMD Radeon RX 6800M [774:gpu]....
[2026-01-12 12:23:25] INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
[2026-01-12 12:23:25] INFO - Respuesta APROBADA
[2026-01-12 12:23:25] INFO - Respuesta: El ASUS ROG Strix G15 tiene una tarjeta gráfica AMD Radeon RX 6800M [774:gpu]....
[2026-01-12 12:23:25] INFO - Estado: APROBADA | Intentos: 1 | Tiempo: 737ms
[2026-01-12 12:23:25] INFO - 
--- Query 7/10 ---
[2026-01-12 12:23:25] INFO - Query: Laptops con pantalla de 15.6 pulgadas
[2026-01-12 12:23:25] INFO - Chunks recuperados: 5
[2026-01-12 12:23:25] INFO - Iniciando pipeline con critica para: Laptops con pantalla de 15.6 pulgadas...
[2026-01-12 12:23:25] INFO - Intento 1/3
[2026-01-12 12:23:26] INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
[2026-01-12 12:23:26] INFO - Respuesta generada: No tengo informacion suficiente para responder esta pregunta....
[2026-01-12 12:23:26] INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
[2026-01-12 12:23:26] INFO - Respuesta APROBADA
[2026-01-12 12:23:26] INFO - Respuesta: No tengo informacion suficiente para responder esta pregunta....
[2026-01-12 12:23:26] INFO - Estado: APROBADA | Intentos: 1 | Tiempo: 1121ms
[2026-01-12 12:23:26] INFO - 
--- Query 8/10 ---
[2026-01-12 12:23:26] INFO - Query: Que laptops tienen puerto Ethernet?
[2026-01-12 12:23:26] INFO - Chunks recuperados: 5
[2026-01-12 12:23:26] INFO - Iniciando pipeline con critica para: Que laptops tienen puerto Ethernet?...
[2026-01-12 12:23:26] INFO - Intento 1/3
[2026-01-12 12:23:27] INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
[2026-01-12 12:23:27] INFO - Respuesta generada: El HP Victus 15 de HP tiene puerto Ethernet [233:ethernet], [340:ethernet], [434:ethernet], [644:eth...
[2026-01-12 12:23:27] INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
[2026-01-12 12:23:27] INFO - Respuesta APROBADA
[2026-01-12 12:23:27] INFO - Respuesta: El HP Victus 15 de HP tiene puerto Ethernet [233:ethernet], [340:ethernet], [434...
[2026-01-12 12:23:27] INFO - Estado: APROBADA | Intentos: 1 | Tiempo: 1074ms
[2026-01-12 12:23:27] INFO - 
--- Query 9/10 ---
[2026-01-12 12:23:27] INFO - Query: Cual es el peso del Dell XPS?
[2026-01-12 12:23:27] INFO - Chunks recuperados: 5
[2026-01-12 12:23:27] INFO - Iniciando pipeline con critica para: Cual es el peso del Dell XPS?...
[2026-01-12 12:23:27] INFO - Intento 1/3
[2026-01-12 12:23:28] INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
[2026-01-12 12:23:28] INFO - Respuesta generada: El peso del Dell XPS 9510 es 344.40 x 230.30 x 7.70 ~ 18.00 mm [276:weight]. No hay informacion sobr...
[2026-01-12 12:23:28] INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
[2026-01-12 12:23:28] INFO - Respuesta APROBADA
[2026-01-12 12:23:28] INFO - Respuesta: El peso del Dell XPS 9510 es 344.40 x 230.30 x 7.70 ~ 18.00 mm [276:weight]. No ...
[2026-01-12 12:23:28] INFO - Estado: APROBADA | Intentos: 1 | Tiempo: 1146ms
[2026-01-12 12:23:28] INFO - 
--- Query 10/10 ---
[2026-01-12 12:23:28] INFO - Query: Que resolucion de pantalla tiene el Lenovo IdeaPad?
[2026-01-12 12:23:29] INFO - Chunks recuperados: 5
[2026-01-12 12:23:29] INFO - Iniciando pipeline con critica para: Que resolucion de pantalla tiene el Lenovo IdeaPad...
[2026-01-12 12:23:29] INFO - Intento 1/3
[2026-01-12 12:23:29] INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
[2026-01-12 12:23:29] INFO - Respuesta generada: El Lenovo IdeaPad 3 15 tiene resolucion de pantalla HD (1366 x 768) [797:display_resolution] [366:di...
[2026-01-12 12:23:30] INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
[2026-01-12 12:23:30] INFO - Respuesta APROBADA
[2026-01-12 12:23:30] INFO - Respuesta: El Lenovo IdeaPad 3 15 tiene resolucion de pantalla HD (1366 x 768) [797:display...
[2026-01-12 12:23:30] INFO - Estado: APROBADA | Intentos: 1 | Tiempo: 1255ms
[2026-01-12 12:23:30] INFO - Ejemplos guardados: outputs/results/ejemplos_completos_20260112_122330.json
[2026-01-12 12:23:30] INFO - Metricas guardadas: outputs/results/metricas_20260112_122330.json
[2026-01-12 12:23:30] INFO - Logs guardados: outputs/logs/logs_agente_critico_20260112_122330.json
[2026-01-12 12:23:30] INFO - Reporte guardado: outputs/results/reporte_evaluacion_20260112_122330.txt
[2026-01-12 12:23:30] INFO - 
============================================================
[2026-01-12 12:23:30] INFO - Evaluacion completada
[2026-01-12 12:23:30] INFO - ============================================================
[2026-01-12 12:23:30] INFO - 
======================================================================
[2026-01-12 12:23:30] INFO - RESUMEN FINAL DEL PIPELINE
[2026-01-12 12:23:30] INFO - ======================================================================
[2026-01-12 12:23:30] INFO - Total queries evaluadas: 10
[2026-01-12 12:23:30] INFO - Respuestas aprobadas: 9
[2026-01-12 12:23:30] INFO - Respuestas rechazadas: 1
[2026-01-12 12:23:30] INFO - Tasa de aprobacion: 90.0%
[2026-01-12 12:23:30] INFO - Tiempo promedio: 1908.36 ms
[2026-01-12 12:23:30] INFO - 
Resultados guardados en: outputs/results/
[2026-01-12 12:23:30] INFO - Logs guardados en: /Users/danilomelo/Desktop/Prueba_Mercado_Libre/Ejercicio_3/outputs/logs/pipeline_completo_20260112_122300.log
[2026-01-12 12:23:30] INFO - 
======================================================================
[2026-01-12 12:23:30] INFO - PIPELINE COMPLETADO EXITOSAMENTE
[2026-01-12 12:23:30] INFO - Fin: 2026-01-12 12:23:30
[2026-01-12 12:23:30] INFO - ======================================================================
